<% if user_signed_in? %>

  <% unless recipe.like_user(current_user.id).blank? %>
    <%= link_to recipe_like_path(recipe_id: recipe.id ,id: recipe.likes[0].id), method: :delete, remote: true do %>
      <div class="vertical_like">
        <i class="material-icons red-text">favorite</i>
        <span class="red-text">
          <%= recipe.likes_count %>
        </span>
      </div>
    <% end %>
  <% else %>
    <%= link_to recipe_likes_path(recipe.id), method: :post, remote: true do %>
      <div class="vertical_like">
        <i class="material-icons grey-text text-darken-2">favorite_border</i>
        <span class="grey-text text-darken-2">
          <%= recipe.likes_count %>
        </span>
      </div>
    <% end %>
  <% end %>

<% else %>

  <% if recipe.likes_count > 0 %>
    <div class="vertical_like">
      <i class="material-icons red-text">favorite</i>
      <span class="red-text">
        <%= recipe.likes_count %>
      </span>
    </div>
  <% else %>
    <div class="vertical_like">
      <i class="material-icons grey-text text-darken-2">favorite_border</i>
      <span class="grey-text text-darken-2">
        <%= recipe.likes_count %>
      </span>
    </div>
  <% end %>

<% end %>